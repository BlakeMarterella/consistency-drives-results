<div class="bg-white shadow-md rounded-md border-navy-blue border-2">
    <div *ngIf="!show_delete_confirmation && !is_editing">
        <div class="w-full h-8 border-b-2 border-navy-blue" [style.background-color]="habit.color"></div>
        <div class="p-4 bg-white">
            <p class="pb-4 text-center">
                {{habit.name}}
            </p>
            <div class="flex justify-between" *ngIf="!is_editing">
                <button (click)="start_editing()"
                    class="focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-navy-blue bg-transparent transition duration-150 ease-in-out hover:border-navy-blue hover:bg-secondary-accent-blue lg:font-bold  hover:text-navy-blue rounded border p-2 border-navy-blue text-navy-blue text-sm">
                    Edit
                </button>
                <button (click)="show_delete_confirmation = true"
                    class="focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-400 bg-red-100 transition duration-150 ease-in-out hover:bg-red-200 lg:font-bold rounded text-red-700 border border-red-400 text-sm p-2 disabled:bg-opacity-70">
                    Delete
                </button>
            </div>
        </div>
    </div>

    <div *ngIf="is_editing">
        <div class="p-4 bg-white">
            <p class="pb-4 text-left">
                Color
                <input class="border-navy-blue border-2 w-full rounded p-2" [(colorPicker)]="new_color"
                    [style.background]="new_color" [placeholder]="new_color" />
            </p>
            <p class="pb-4 text-left">
                Name
                <input [(ngModel)]="habit.name" class="w-full border-2 border-navy-blue rounded p-2" />
            </p>
            <div class="flex justify-between">
                <button (click)="cancel_editing()"
                    class="focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-navy-blue bg-transparent transition duration-150 ease-in-out hover:border-navy-blue hover:bg-secondary-accent-blue lg:font-bold  hover:text-navy-blue rounded border p-2 border-navy-blue text-navy-blue text-sm">
                    Cancel
                </button>
                <button (click)="update_habit()"
                    class="focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-navy-blue bg-navy-blue transition duration-150 ease-in-out hover:bg-navy-blue lg:font-bold rounded text-white border border-navy-blue text-sm p-2 disabled:bg-opacity-70">
                    Save
                </button>
            </div>
        </div>

        <div *ngIf="show_delete_confirmation">
            <div class="p-4 bg-white">
                <p class="text-center text-lg">ðŸš¨</p>
                <p class="pb-4 text-center">
                    You're about to delete "{{habit.name}}". Are you sure you?
                </p>
                <div class="flex justify-between">
                    <button (click)="show_delete_confirmation = false"
                        class="focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-navy-blue bg-transparent transition duration-150 ease-in-out hover:border-navy-blue hover:bg-secondary-accent-blue lg:font-bold  hover:text-navy-blue rounded border p-2 border-navy-blue text-navy-blue text-sm">
                        Cancel
                    </button>
                    <button (click)="delete_habit()"
                        class="focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-400 bg-red-100 transition duration-150 ease-in-out hover:bg-red-200 lg:font-bold rounded text-red-700 border border-red-400 text-sm p-2 disabled:bg-opacity-70">
                        DELETE!
                    </button>
                </div>
            </div>
        </div>
    </div>